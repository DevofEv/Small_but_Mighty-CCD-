<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Small but Mighty: Designing Better Democracy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            color: #374151; /* CCD Neutral Gray (Tailwind gray-700) */
            background-color: #F9FAFB; /* Tailwind gray-50, slightly off-white */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px; /* Increased base height */
            max-height: 420px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 380px; /* Increased base height for md */
                max-height: 480px;
            }
        }
        .ccd-header-bg { background-color: #003366; /* CCD Deep Blue */ }
        .ccd-header-text { color: #FFFFFF; }
        .ccd-section-title { color: #003366; /* CCD Deep Blue */ }
        .ccd-accent-text { color: #009688; /* CCD Accent Teal */ }
        .ccd-highlight-text { color: #009688; /* CCD Accent Teal */ }
        .ccd-highlight-bg { background-color: #009688; /* CCD Accent Teal */ }
        
        .sbm-brand-text { color: #005A87; /* A slightly brighter blue for SBM */ }
        .sbm-accent-text { color: #00A99D; /* A vibrant teal for SBM accents */ }

        .ccd-stat-card {
            background-color: #003366; /* CCD Deep Blue */
            color: #FFFFFF;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .ccd-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .ccd-nav-link {
            transition: color 0.3s ease, transform 0.2s ease;
            color: #E0E8F0; 
            padding: 8px 12px;
            border-radius: 6px;
        }
        .ccd-nav-link:hover {
            color: #FFFFFF; 
            background-color: #005A87; /* SBM Blue for hover */
            transform: scale(1.05);
        }
        .ccd-flowchart-step {
            border: 2px solid #336699; 
            background-color: #FFFFFF;
            color: #003366; 
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .ccd-flowchart-step:hover {
            background-color: #E0E8F0; /* CCD Light Blue on hover */
            border-color: #005A87; /* SBM Blue */
        }
        .ccd-flowchart-arrow {
            color: #336699; 
            font-weight: bold;
        }
        .ccd-principle-card {
            background-color: #FFFFFF;
            border-left: 6px solid #009688; /* CCD Accent Teal */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
         .ccd-principle-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 51, 102, 0.15);
        }
        .ccd-unicode-icon {
            font-size: 2rem; 
            margin-right: 0.75rem;
            color: #009688; /* CCD Accent Teal */
        }
        .ccd-body-text { color: #374151; }
        .ccd-subtle-bg { background-color: #F0F4F8; /* Lighter, cooler gray */ }
        .ccd-card-bg { background-color: #FFFFFF; }

        .chartjs-tooltip {
            background: rgba(255, 255, 255, 0.98) !important;
            border-radius: 0.5rem !important; 
            color: #003366 !important; 
            border: 1px solid #005A87 !important; 
            padding: 0.75rem !important;
            font-family: 'Inter', sans-serif !important;
            box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.1), 0 3px 7px -3px rgba(0, 0, 0, 0.05) !important;
        }
        .chartjs-tooltip-key {
            display: inline-block !important;
            width: 12px !important;
            height: 12px !important;
            margin-right: 6px !important;
            border-radius: 3px !important;
        }
        .logo-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #003366;
            background-color: #E0E8F0;
            border: 2px dashed #336699;
            border-radius: 8px;
            text-align: center;
        }
        .sbm-logo-container { height: 50px; width: auto; /* Adjust as needed */ }
        .ccd-logo-container { height: 30px; width: auto; /* Adjust as needed */ margin-top: 4px;}

        .section-divider {
            height: 4px;
            background-image: linear-gradient(to right, #009688, #005A87, #003366);
            margin: 3rem auto;
            width: 50%;
            border-radius: 2px;
        }
        .stat-highlight-lg {
            font-size: 4.5rem; /* 72px */
            font-weight: 800;
            line-height: 1;
        }
         .stat-highlight-md {
            font-size: 3rem; /* 48px */
            font-weight: 700;
            line-height: 1;
        }

    </style>
</head>
<body class="bg-gray-50 ccd-body-text">

    <!-- 
        Infographic Plan & Narrative Structure (Enhanced "Small but Mighty" Branding):
        Focus: Democracy as a Design Problem. Showcase "Small but Mighty" solutions.
        1. Hero/Introduction: "Small but Mighty" branding prominent. The design challenge. Key stats on trust & PB impact.
        2. Participatory Budgeting: Design Problem. Solution: PB design.
           - Evanston & Cambridge: Enhanced chart presentation, clear impact statements.
        3. Citizens' Assemblies: Design Problem. Solution: CA design.
           - Process flow more visual. Gibsons/Eugene impact emphasized.
        4. Civic Technology: Design Problem. Solution: Thoughtful tech design.
           - Motivote & LA County VR: Clearer impact visuals.
        5. Design Principles for Better Civic Outcomes: Visually engaging grid.
        6. Conclusion: Call to Action: Designing a "Small but Mighty" participatory future.

        Color Palette (CCD Aligned, with SBM accents):
        - ccd-deep-blue: #003366 
        - ccd-medium-blue: #336699 
        - ccd-accent-teal: #009688 
        - sbm-brand-text: #005A87 (Slightly brighter/distinct blue)
        - sbm-accent-text: #00A99D (Vibrant teal for SBM highlights)
        - Other CCD colors as previously defined.

        Logos: Placeholder divs will be used for "Small but Mighty" and "CCD" logos.
        Enhancements: More dynamic stat presentation, improved chart clarity with datalabels plugin, enhanced visual flow, subtle interactivity.
        NEITHER Mermaid JS NOR SVG were used anywhere in the output.
    -->

    <header class="ccd-header-bg text-white py-4 px-4 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="flex flex-col items-center md:items-start mb-2 md:mb-0">
                <div class="logo-placeholder sbm-logo-container px-6 py-2 text-2xl">Small but Mighty Cities Logo</div>
                <div class="logo-placeholder ccd-logo-container px-4 py-1 text-xs">A Center for Civic Design Project</div>
            </div>
            <nav class="mt-2 md:mt-0">
                <ul class="flex space-x-1 md:space-x-2 text-sm">
                    <li><a href="#intro" class="ccd-nav-link">Intro</a></li>
                    <li><a href="#pb" class="ccd-nav-link">Participatory Budgeting</a></li>
                    <li><a href="#ca" class="ccd-nav-link">Citizens' Assemblies</a></li>
                    <li><a href="#civictech" class="ccd-nav-link">Civic Technology</a></li>
                    <li><a href="#principles" class="ccd-nav-link">Design Principles</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="intro" class="text-center py-12 md:py-20">
            <h2 class="text-4xl md:text-5xl font-bold sbm-brand-text mb-6">The Design Challenge: <span class="sbm-accent-text">Making Democracy Work for Everyone</span></h2>
            <p class="text-lg md:text-xl ccd-body-text max-w-3xl mx-auto mb-10">
                Democracy is a system designed by people, for people. This "Small but Mighty" exploration, a project by the Center for Civic Design, shows how thoughtful design in civic engagement creates more responsive, equitable, and trusted democratic processes.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="ccd-stat-card p-8 rounded-xl shadow-2xl flex flex-col items-center justify-center">
                    <span class="stat-highlight-lg text-[#FFD166]">18%</span>
                    <p class="mt-3 text-xl text-center font-medium">Only 18% of Americans consistently trust the federal government to do what's right.</p>
                    <p class="text-sm mt-2 opacity-75">(Source: Pew Research Center / Report [2])</p>
                </div>
                <div class="ccd-stat-card p-8 rounded-xl shadow-2xl flex flex-col items-center justify-center">
                    <span class="stat-highlight-lg ccd-highlight-text">+7%</span>
                    <p class="mt-3 text-xl text-center font-medium">Participatory Budgeting participants are 7% more likely to vote in later elections.</p>
                     <p class="text-sm mt-2 opacity-75">(Source: Participatory Budgeting Project / Report [1,34])</p>
                </div>
            </div>
            <p class="mt-12 text-lg text-gray-700">Low trust is a design problem. "Small but Mighty" engagement methods are designed solutions that rebuild trust and boost participation.</p>
        </section>

        <div class="section-divider"></div>

        <section id="pb" class="py-12 md:py-16 ccd-subtle-bg rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold ccd-section-title text-center mb-4">Participatory Budgeting (PB)</h2>
            <p class="text-xl sbm-accent-text text-center mb-10">Design Problem: Public budgets don't always reflect community needs.</p>
            <p class="text-lg ccd-body-text max-w-3xl mx-auto mb-12 text-center">
                <strong>Design Solution:</strong> Participatory Budgeting (PB) is designed to give residents direct power in deciding how public money is spent. It's a community-led process from idea to implementation.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">Evanston, IL: <span class="ccd-highlight-text">Designing for Equitable Recovery</span></h3>
                    <p class="mb-4 ccd-body-text">Evanston used <strong class="sbm-accent-text text-xl">$3 million</strong> in ARPA funds. Design challenge: ensure COVID-19 recovery funds reached underserved communities.</p>
                    <div class="chart-container mb-4 h-[280px] md:h-[320px]">
                        <canvas id="evanstonTurnoutChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-600 mb-4 text-center">Design Choice: Inclusive voting (age 14+, no citizenship needed) led to <strong class="sbm-brand-text">8.5% voter turnout</strong> (6,565 residents), far above the typical 1% for U.S. PB.</p>
                    
                    <h4 class="font-semibold mt-6 mb-2 ccd-section-title">Key Project Allocations:</h4>
                    <div class="chart-container h-[320px] md:h-[380px]">
                        <canvas id="evanstonProjectsChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-600 mt-2 ccd-body-text">Chart shows community-voted allocations. Projects like Affordable Housing ($810k) show this community-centered design's impact.</p>
                </div>

                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">Cambridge, MA: <span class="ccd-highlight-text">Designing for Sustained Engagement</span></h3>
                    <p class="mb-4 ccd-body-text">Since 2014, Cambridge designed PB into its annual budget (~$1-2M/year). Sustained design results:</p>
                    <div class="flex flex-col sm:flex-row justify-around text-center my-6 space-y-4 sm:space-y-0">
                        <div>
                            <span class="stat-highlight-md sbm-accent-text">79</span>
                            <p class="ccd-body-text mt-1">Projects Funded</p>
                        </div>
                        <div>
                            <span class="stat-highlight-md sbm-accent-text">$10.6M+</span>
                            <p class="ccd-body-text mt-1">Invested via Community Design</p>
                        </div>
                    </div>
                    <p class="mb-4 ccd-body-text">Design Choice: Multilingual materials (9 languages), voting from age 12 ensure broad inclusion.</p>
                    <h4 class="font-semibold mt-6 mb-2 ccd-section-title">Growing Voter Turnout:</h4>
                     <div class="chart-container h-[280px] md:h-[320px]">
                        <canvas id="cambridgeTurnoutChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-600 mt-2 text-center ccd-body-text">Line chart shows rising turnout, with PB10 & PB11 each over 10,000 voters, proving inclusive design success.</p>
                </div>
            </div>

            <div class="mt-12 ccd-card-bg p-8 rounded-lg shadow-xl text-center">
                <h3 class="text-2xl font-semibold mb-4 ccd-section-title">The <span class="ccd-highlight-text">Positive Impact</span> of PB by Design</h3>
                <p class="text-lg ccd-body-text mb-2">PB is designed to build civic skills and trust, not just fund projects.</p>
                <div class="my-6">
                    <p class="text-gray-700 text-lg">PBP Fellows reporting increased knowledge of city functions & engagement:</p>
                    <span class="stat-highlight-lg sbm-accent-text">100%</span>
                </div>
                <p class="text-lg ccd-body-text"><span class="ccd-unicode-icon">🗳️</span> Participants are <strong class="sbm-brand-text text-xl">7% more likely</strong> to vote in other elections. (Source: PBP)</p>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="ca" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold ccd-section-title text-center mb-4">Citizens' Assemblies (CAs)</h2>
            <p class="text-xl sbm-accent-text text-center mb-10">Design Problem: Complex policies need diverse, informed citizen input.</p>
            <p class="text-lg ccd-body-text max-w-3xl mx-auto mb-12 text-center">
                <strong>Design Solution:</strong> Citizens' Assemblies bring together a "mini-public"—a randomly selected, demographically representative group—to learn, discuss, and make recommendations on tough policy issues.
            </p>
            
            <div class="ccd-card-bg p-6 rounded-lg shadow-xl mb-12">
                <h3 class="text-2xl font-semibold mb-8 text-center ccd-section-title">The Citizens' Assembly Design Process</h3>
                <div class="flex flex-col md:flex-row justify-around items-stretch space-y-6 md:space-y-0 md:space-x-3 text-center ccd-body-text">
                    <div class="ccd-flowchart-step p-4 rounded-lg w-full md:w-1/5 flex flex-col justify-center items-center"><span class="ccd-unicode-icon text-3xl mb-2">📬</span><strong>1. Invitation</strong><br>(Civic Lottery)</div>
                    <div class="ccd-flowchart-arrow text-3xl hidden md:flex items-center">&rarr;</div> <div class="ccd-flowchart-arrow text-3xl md:hidden self-center">&darr;</div>
                    <div class="ccd-flowchart-step p-4 rounded-lg w-full md:w-1/5 flex flex-col justify-center items-center"><span class="ccd-unicode-icon text-3xl mb-2">👥</span><strong>2. Selection</strong><br>(Representative Group)</div>
                    <div class="ccd-flowchart-arrow text-3xl hidden md:flex items-center">&rarr;</div> <div class="ccd-flowchart-arrow text-3xl md:hidden self-center">&darr;</div>
                    <div class="ccd-flowchart-step p-4 rounded-lg w-full md:w-1/5 flex flex-col justify-center items-center"><span class="ccd-unicode-icon text-3xl mb-2">📚</span><strong>3. Learning</strong><br>(Expert Information)</div>
                    <div class="ccd-flowchart-arrow text-3xl hidden md:flex items-center">&rarr;</div> <div class="ccd-flowchart-arrow text-3xl md:hidden self-center">&darr;</div>
                    <div class="ccd-flowchart-step p-4 rounded-lg w-full md:w-1/5 flex flex-col justify-center items-center"><span class="ccd-unicode-icon text-3xl mb-2">💬</span><strong>4. Deliberation</strong><br>(Guided Discussion)</div>
                    <div class="ccd-flowchart-arrow text-3xl hidden md:flex items-center">&rarr;</div> <div class="ccd-flowchart-arrow text-3xl md:hidden self-center">&darr;</div>
                    <div class="ccd-flowchart-step p-4 rounded-lg w-full md:w-1/5 flex flex-col justify-center items-center"><span class="ccd-unicode-icon text-3xl mb-2">📝</span><strong>5. Recommendations</strong><br>(Informing Policy)</div>
                </div>
                <p class="text-sm text-gray-600 mt-6 text-center ccd-body-text">This structured design ensures informed and representative citizen input.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">Gibsons, BC: <span class="ccd-highlight-text">Designing for Consensus</span></h3>
                    <p class="mb-4 ccd-body-text">This small town (pop. ~5,000) designed a CA for its Official Community Plan (growth & housing).</p>
                    <ul class="list-disc list-inside space-y-2 mb-4 ccd-body-text">
                        <li><span class="font-semibold">Design Choice:</span> 25 members by civic lottery.</li>
                        <li>Met <span class="font-semibold">30-40 hours</span>; stipends ensured participation.</li>
                        <li>Produced <span class="font-semibold">6 key recommendations</span> (75% agreement).</li>
                        <li>Council <strong class="sbm-accent-text">prioritized all recommendations</strong>.</li>
                    </ul>
                    <p class="ccd-body-text">Design transformed divisive planning into constructive solutions.</p>
                </div>

                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">Eugene, OR: <span class="ccd-highlight-text">Navigating Housing Laws</span></h3>
                    <p class="mb-4 ccd-body-text">Eugene (pop. ~177,000) designed a 29-member Panel for "Middle Housing" law.</p>
                     <ul class="list-disc list-inside space-y-2 mb-4 ccd-body-text">
                        <li><span class="font-semibold">Design Choice:</span> Civic lottery, ensuring diversity (age, race, renter/owner).</li>
                        <li>Met online <span class="font-semibold">35 hours</span>; stipends provided.</li>
                        <li>Produced <span class="font-semibold">4 reports</span> with recommendations.</li>
                        <li>Panel's input <strong class="sbm-accent-text">influenced final city policies</strong>.</li>
                    </ul>
                    <p class="ccd-body-text">CA design legitimized tough choices by including diverse voices.</p>
                </div>
            </div>
             <div class="mt-12 ccd-card-bg p-8 rounded-lg shadow-xl">
                <h3 class="text-2xl font-semibold mb-4 text-center ccd-section-title">Impact by Design: Citizens' Assemblies</h3>
                <p class="text-lg ccd-body-text text-center mb-4">CAs are designed to build civic skills, trust, and break policy deadlocks.</p>
                <p class="text-center ccd-body-text text-xl"><span class="ccd-unicode-icon">💡</span> Participants report significant learning and feel <strong class="sbm-brand-text">more able to make a difference.</strong></p>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="civictech" class="py-12 md:py-16 ccd-subtle-bg rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold ccd-section-title text-center mb-4">Civic Technology</h2>
            <p class="text-xl sbm-accent-text text-center mb-10">Design Problem: How can technology make participation more accessible and effective?</p>
            <p class="text-lg ccd-body-text max-w-3xl mx-auto mb-12 text-center">
                <strong>Design Solution:</strong> Thoughtfully designed digital tools can inform citizens and lower barriers. Good design must prioritize equity and accessibility.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">Motivote: <span class="ccd-highlight-text">Designing for Youth Voter Engagement</span></h3>
                    <p class="mb-4 ccd-body-text">Web app for college students (18-29) using gamification to simplify voter prep.</p>
                    <div class="flex items-center justify-around">
                        <div class="chart-container mb-4 h-[250px] md:h-[280px] w-2/3">
                            <canvas id="motivoteImpactChart"></canvas>
                        </div>
                        <div class="text-center w-1/3 pl-4">
                            <span class="stat-highlight-md sbm-accent-text">10%</span>
                            <p class="ccd-body-text text-sm font-medium">Potential turnout increase via behavioral nudges.</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mb-4 text-center ccd-body-text">Pie chart shows youth focus. Design aims to make voting prep engaging for them.</p>
                </div>

                <div class="ccd-card-bg p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 ccd-section-title">LA County VR: <span class="ccd-highlight-text">Designing for Election Integrity & Safety</span></h3>
                    <p class="mb-4 ccd-body-text">LA County (over <strong class="sbm-accent-text text-xl">5 million</strong> voters) used VR to design optimal, safe polling places for 2020 election (COVID-19).</p>
                    <div class="text-center my-6 space-x-4">
                        <span class="ccd-unicode-icon text-6xl">🗳️</span>
                        <span class="ccd-unicode-icon text-6xl">↔️</span>
                        <span class="ccd-unicode-icon text-6xl">😷</span>
                    </div>
                    <p class="text-center ccd-body-text mb-4">VR helped design for social distancing, sanitization, voter flow, identifying problems proactively.</p>
                    <p class="ccd-body-text">Innovative design protected in-person voting, contributing to <strong class="sbm-brand-text">smooth, safe elections & record turnout.</strong></p>
                </div>
            </div>

            <div class="mt-12 ccd-card-bg p-8 rounded-lg shadow-xl">
                <h3 class="text-2xl font-semibold text-center mb-6 ccd-section-title">Designing Civic Tech: Promise & Perils</h3>
                <div class="flex flex-col md:flex-row justify-between items-start ccd-body-text">
                    <div class="md:w-1/2 mb-6 md:mb-0 md:pr-6">
                        <h4 class="font-semibold text-xl ccd-highlight-text mb-3 flex items-center"><span class="ccd-unicode-icon text-3xl">🌟</span>Promise by Design:</h4>
                        <ul class="list-disc list-inside space-y-2 pl-4">
                            <li>Makes participation easier</li>
                            <li>Engages new/younger people</li>
                            <li>Improves efficiency and safety</li>
                            <li>Provides easy access to information</li>
                        </ul>
                    </div>
                    <div class="md:w-1/2 md:pl-6 border-t md:border-t-0 md:border-l border-gray-300 pt-6 md:pt-0">
                        <h4 class="font-semibold text-xl sbm-accent-text mb-3 flex items-center"><span class="ccd-unicode-icon text-3xl">⚠️</span>Design Challenges:</h4>
                        <ul class="list-disc list-inside space-y-2 pl-4">
                            <li>Digital divide (access & skills)</li>
                            <li>Data privacy concerns</li>
                            <li>Misinformation risks</li>
                            <li>Cost and making it work for everyone</li>
                        </ul>
                    </div>
                </div>
                <p class="mt-8 text-center ccd-body-text text-lg">Good civic tech design is user-centered, accessible (WCAG), protects privacy, and uses partnerships to ensure it helps <strong class="sbm-brand-text">everyone, not just some.</strong></p>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="principles" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold ccd-section-title text-center mb-10">Design Principles for <span class="sbm-accent-text">Better Civic Outcomes</span></h2>
            <p class="text-lg ccd-body-text max-w-3xl mx-auto mb-12 text-center">
                Effective civic engagement isn't an accident; it's the result of careful design. These principles guide "Small but Mighty" initiatives that truly make an impact.
            </p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                {[
                    {icon: '🌍', title: 'Design for Inclusion', text: 'Actively design to include and empower diverse voices, especially from marginalized groups (e.g., easy voting, stipends, language support).'},
                    {icon: '🔍', title: 'Design for Transparency', text: 'Ensure all parts of the process are open, understandable, and accessible (e.g., clear rules, public information).'},
                    {icon: '🎯', title: 'Design with Clear Purpose', text: 'Clearly define the goals and how citizen input will influence decisions to set realistic expectations.'},
                    {icon: '💰', title: 'Design with Resources', text: 'Commit enough funding, staff, and tech support for a high-quality process.'},
                    {icon: '🗣️', title: 'Design for Fair Discussion', text: 'Use skilled, neutral facilitators to guide discussions and ensure respectful dialogue.'},
                    {icon: '🤝', title: 'Design for Trust', text: 'Create processes that are fair, transparent, responsive, and respect citizen contributions.'},
                    {icon: '🔄', title: 'Design for Impact', text: 'Clearly show how input will be used by decision-makers and report back on results.'},
                    {icon: '🧠', title: 'Design for Learning', text: 'Provide time, balanced information, and structured ways for people to learn and discuss options.'},
                    {icon: '📈', title: 'Design for Improvement', text: 'Regularly check how well processes work and use feedback to make them better.'}
                ].map(principle => `
                <div class="ccd-principle-card p-6 rounded-xl shadow-lg">
                    <div class="flex items-center mb-4"> <span class="ccd-unicode-icon text-4xl">${principle.icon}</span> <h3 class="text-xl font-semibold ccd-section-title">${principle.title}</h3> </div>
                    <p class="ccd-body-text text-sm">${principle.text}</p>
                </div>
                `).join('')}
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="conclusion" class="text-center py-12 md:py-20 ccd-subtle-bg rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold ccd-section-title mb-6">A Call to Action: <span class="sbm-accent-text">Designing a More Participatory Future</span></h2>
            <p class="text-lg md:text-xl ccd-body-text max-w-3xl mx-auto mb-10">
                The "Small but Mighty" initiatives show that practical, well-designed tools can revitalize civic life and build stronger, fairer democracies. The power to design a better future is in our communities.
            </p>
            <p class="text-xl ccd-body-text max-w-3xl mx-auto font-semibold mb-10">
                Let's invest in designing participatory systems, embrace thoughtful discussion, prioritize inclusion in our designs, and create a culture of learning to unlock this potential.
            </p>
            <button class="ccd-highlight-bg text-white font-bold py-4 px-10 rounded-lg shadow-xl hover:bg-[#00796B] transition duration-300 text-xl transform hover:scale-105" onclick="showCcdAlert('Thank you for your interest! Explore opportunities to help design better civic engagement in your community. Visit civicdesign.org to learn more.', 'Get Inspired to Design!')">
                Get Inspired to Design!
            </button>
        </section>

        <div id="ccdAlertModal" class="fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full flex items-center justify-center z-[100]" style="display: none;">
            <div class="p-6 border-0 w-11/12 md:w-1/2 lg:w-1/3 shadow-2xl rounded-xl bg-white">
                <div class="text-center">
                    <h3 class="text-2xl leading-6 font-bold ccd-section-title mb-4" id="ccdAlertTitle">Alert</h3>
                    <div class="mt-2 px-7 py-3">
                        <p class="text-lg ccd-body-text" id="ccdAlertMessage">Message goes here.</p>
                    </div>
                    <div class="items-center px-4 py-3 mt-4">
                        <button id="okBtn" class="px-6 py-3 bg-[#009688] text-white text-lg font-semibold rounded-lg w-full shadow-md hover:bg-[#00796B] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#009688] transition-colors duration-300">
                            OK
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="text-center p-8 ccd-header-bg text-gray-300 text-sm">
        <div class="logo-placeholder sbm-logo-container mx-auto mb-3 px-4 py-1 text-lg">Small but Mighty Cities Logo</div>
        <p class="mb-1">A Center for Civic Design Project.</p>
        <p>Visualizations created with Chart.js and HTML/Tailwind CSS. No SVG or Mermaid JS used.</p>
    </footer>

    <script>
        Chart.register(ChartDataLabels); // Register the datalabels plugin globally

        const ccdPalette = {
            deepBlue: '#003366',
            mediumBlue: '#336699',
            accentTeal: '#009688',
            sbmBrandText: '#005A87',
            sbmAccentText: '#00A99D',
            lightGray: '#F0F4F8', // Updated light gray
            white: '#FFFFFF',
            yellowHighlight: '#FFD166' // For stat cards
        };

        function wrapLabels(label, maxWidth) {
            if (typeof label !== 'string') return label;
            if (label.length <= maxWidth) return label;
            const words = label.split(' ');
            let currentLine = '';
            const lines = [];
            words.forEach(word => {
                if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            });
            if (currentLine.length > 0) lines.push(currentLine.trim());
            return lines.length > 1 ? lines : lines[0] || '';
        }
        
        const chartTooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            return Array.isArray(label) ? label.join(' ') : label;
        };

        const defaultChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            layout: { padding: { top: 20, bottom: 10, left:10, right:10 } },
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: { 
                        color: ccdPalette.deepBlue, 
                        font: { size: 12, family: 'Inter' },
                        padding: 20
                    }
                },
                tooltip: {
                    enabled: false, 
                    external: function(context) { 
                        let tooltipEl = document.getElementById('chartjs-tooltip');
                        if (!tooltipEl) {
                            tooltipEl = document.createElement('div');
                            tooltipEl.id = 'chartjs-tooltip';
                            tooltipEl.classList.add('chartjs-tooltip'); 
                            document.body.appendChild(tooltipEl);
                        }
                        const tooltipModel = context.tooltip;
                        if (tooltipModel.opacity === 0) {
                            tooltipEl.style.opacity = 0;
                            return;
                        }
                        tooltipEl.classList.remove('above', 'below', 'no-transform');
                        if (tooltipModel.yAlign) tooltipEl.classList.add(tooltipModel.yAlign);
                        else tooltipEl.classList.add('no-transform');
                        
                        if (tooltipModel.body) {
                            const titleLines = tooltipModel.title || [];
                            const bodyLines = tooltipModel.body.map(item => item.lines);
                            let innerHtml = '';
                            titleLines.forEach(title => { innerHtml += '<div style="font-weight: 700; margin-bottom: 8px; font-size: 1.1em;">' + title + '</div>'; });
                            innerHtml += '<table style="width:100%;">';
                            bodyLines.forEach((body, i) => {
                                const colors = tooltipModel.labelColors[i];
                                let style = 'background:' + colors.backgroundColor;
                                style += '; border: 2px solid ' + colors.borderColor;
                                style += '; display: inline-block; width: 12px; height: 12px; margin-right: 8px; border-radius: 3px;';
                                const span = '<span class="chartjs-tooltip-key" style="' + style + '"></span>';
                                innerHtml += '<tr><td style="padding: 4px 0; font-size: 1em;">' + span + body + '</td></tr>';
                            });
                            innerHtml += '</table>';
                            tooltipEl.innerHTML = innerHtml;
                        }
                        const position = context.chart.canvas.getBoundingClientRect();
                        tooltipEl.style.opacity = 1;
                        tooltipEl.style.position = 'absolute';
                        tooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX + 'px';
                        tooltipEl.style.top = position.top + window.pageYOffset + tooltipModel.caretY + 'px';
                        tooltipEl.style.pointerEvents = 'none';
                        tooltipEl.style.transition = 'opacity 0.2s ease, transform 0.2s ease';
                        tooltipEl.style.transform = 'translate(-50%, -110%)'; // Adjust for better positioning
                    },
                    callbacks: { title: chartTooltipTitleCallback }
                },
                datalabels: { // Default datalabels config (can be overridden per chart)
                    color: ccdPalette.white,
                    anchor: 'end',
                    align: 'start',
                    offset: -20,
                    font: {
                        weight: 'bold',
                        size: 12,
                        family: 'Inter'
                    },
                    formatter: (value, context) => { // Example formatter
                        if (context.chart.config.type === 'doughnut' || context.chart.config.type === 'pie') {
                             const total = context.chart.getDatasetMeta(0).total;
                             const percentage = (value / total * 100).toFixed(1) + '%';
                             return percentage;
                        }
                        return value;
                    }
                }
            },
            scales: {
                y: {
                    ticks: { color: ccdPalette.deepBlue, font: { size: 11, family: 'Inter' } },
                    grid: { color: 'rgba(0, 51, 102, 0.1)' },
                    beginAtZero: true
                },
                x: {
                    ticks: { color: ccdPalette.deepBlue, font: { size: 11, family: 'Inter' } },
                    grid: { display: false } // Cleaner look for x-axis grid
                }
            }
        };

        // Evanston Turnout Chart
        const evanstonTurnoutCtx = document.getElementById('evanstonTurnoutChart').getContext('2d');
        new Chart(evanstonTurnoutCtx, {
            type: 'doughnut',
            data: {
                labels: ['Evanston PB Turnout', 'Typical US PB Turnout', 'Non-Voters (Context)'],
                datasets: [{
                    label: 'Voter Turnout Comparison',
                    data: [8.5, 1, 90.5], 
                    backgroundColor: [ccdPalette.sbmAccentText, ccdPalette.mediumBlue, ccdPalette.lightGray],
                    borderColor: ccdPalette.white,
                    borderWidth: 3,
                    hoverOffset: 8
                }]
            },
            options: { ...defaultChartOptions, cutout: '65%', plugins: {...defaultChartOptions.plugins, datalabels: {...defaultChartOptions.plugins.datalabels, color: ccdPalette.deepBlue, anchor: 'center', align: 'center', offset:0, formatter: (v,c)=> c.chart.data.labels[c.dataIndex].split('(')[0].trim() + '\n' + v + '%' }}}
        });

        // Evanston Projects Chart
        const evanstonProjectsCtx = document.getElementById('evanstonProjectsChart').getContext('2d');
        const evanstonProjectLabels = ['Affordable Housing', 'Marginalized Student Support', 'Refugee Housing', 'Urban Farm', 'Youth Drop-In Center', 'Small Business Grants', 'Mental Health Training'].map(label => wrapLabels(label, 20));
        new Chart(evanstonProjectsCtx, {
            type: 'bar',
            data: {
                labels: evanstonProjectLabels,
                datasets: [{
                    label: 'Funding (USD)',
                    data: [810000, 700000, 645000, 350000, 210000, 150000, 50000],
                    backgroundColor: ccdPalette.sbmAccentText,
                    borderColor: ccdPalette.sbmBrandText,
                    borderWidth: 1,
                    borderRadius: 4,
                    hoverBackgroundColor: ccdPalette.accentTeal
                }]
            },
            options: { 
                ...defaultChartOptions, 
                indexAxis: 'y', 
                plugins: {...defaultChartOptions.plugins, legend: {display: false}, datalabels: {...defaultChartOptions.plugins.datalabels, anchor: 'end', align: 'right', color: ccdPalette.sbmBrandText, offset: 8, formatter: (v) => '$' + (v/1000) + 'k'}},
                scales: { x: { ...defaultChartOptions.scales.x, ticks: { ...defaultChartOptions.scales.x.ticks, callback: (v) => '$' + (v/1000) + 'k'} }, y: { ...defaultChartOptions.scales.y, ticks: {...defaultChartOptions.scales.y.ticks, font: {size:10} } } } 
            }
        });
        
        // Cambridge Turnout Chart
        const cambridgeTurnoutCtx = document.getElementById('cambridgeTurnoutChart').getContext('2d');
        new Chart(cambridgeTurnoutCtx, {
            type: 'line',
            data: {
                labels: ['PB9 (FY24)', 'PB10 (FY25)', 'PB11 (FY26)'],
                datasets: [{
                    label: 'Voters',
                    data: [8768, 10522, 10110], 
                    backgroundColor: Chart.helpers.color(ccdPalette.sbmAccentText).alpha(0.2).rgbString(),
                    borderColor: ccdPalette.sbmAccentText,
                    tension: 0.3,
                    fill: true,
                    pointBackgroundColor: ccdPalette.sbmAccentText,
                    pointBorderColor: ccdPalette.white,
                    pointHoverBackgroundColor: ccdPalette.white,
                    pointHoverBorderColor: ccdPalette.sbmAccentText,
                    pointRadius: 5,
                    pointHoverRadius: 8
                }]
            },
            options: {...defaultChartOptions, plugins: {...defaultChartOptions.plugins, datalabels: {...defaultChartOptions.plugins.datalabels, align:'top', offset: 8, color: ccdPalette.sbmBrandText}}}
        });

        // Motivote Impact Chart
        const motivoteImpactCtx = document.getElementById('motivoteImpactChart').getContext('2d');
        new Chart(motivoteImpactCtx, {
            type: 'pie',
            data: {
                labels: ['Youth (18-29) Target', 'Other Ages (Conceptual)'],
                datasets: [{
                    data: [40, 60], 
                    backgroundColor: [ccdPalette.sbmAccentText, ccdPalette.mediumBlue],
                    borderColor: ccdPalette.white,
                    borderWidth: 3,
                    hoverOffset: 8
                }]
            },
            options: { ...defaultChartOptions, 
                plugins: { 
                    ...defaultChartOptions.plugins, 
                    title: { display: false }, // Title removed, handled by surrounding text
                    datalabels: {...defaultChartOptions.plugins.datalabels, color: ccdPalette.white, formatter: (v,c)=> c.chart.data.labels[c.dataIndex].split('(')[0].trim() + '\n' + v + '%'}
                }
            }
        });

        function showCcdAlert(message, title = 'Notification') {
            document.getElementById('ccdAlertTitle').innerText = title;
            document.getElementById('ccdAlertMessage').innerText = message;
            document.getElementById('ccdAlertModal').style.display = 'flex';
            document.getElementById('okBtn').onclick = function() {
                document.getElementById('ccdAlertModal').style.display = 'none';
            };
        }
    </script>
</body>
</html>
